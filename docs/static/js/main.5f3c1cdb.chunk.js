(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{186:function(e,t,n){e.exports=n(382)},192:function(e,t,n){},382:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(38),c=n.n(r),l=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(191),n(192);var u=n(16),h=n(26),d=n(24),s=n(14),g=n(27),f=n(391),v=n(389),m=n(386),p=n(393),b=n(387),E=n(45),y=n(392),C=n(388),S=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(e,t){n.setState({active:t}),n.props.onClick(e)},n.render=function(){return i.a.createElement(C.a.Group,{compact:!0,fluid:!0},n.props.source.map(function(e,t){return i.a.createElement(C.a,{key:t,basic:t!==n.state.active,color:"black",active:t===n.state.active,onClick:function(a,i){return n.handleClick(e,t)}},n.props.toString(e))}))},n.handleClick=n.handleClick.bind(Object(s.a)(n)),n.state={active:-1},n}return Object(g.a)(t,e),t}(a.Component),O={checkAllNotNull:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every(function(e){return null!=e})}},k={toCamelCase:function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}},j=n(15),H=j.theory.Accidental,w=j.theory.Chord,A=j.theory.Key,L=j.theory.Letter,I=j.theory.Pitch,Q=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).updateHighlight=function(){var e=n.state,t=e.accidental,a=e.inversion,i=e.letter,r=e.octave,c=e.quality;if(O.checkAllNotNull(t,a,i,r,c))try{var l=w.builder().setRoot(new I(new A(i,t),r)).add(c).setInversion(a).build();n.props.onHighlight(l.pitches),n.setState({error:!1})}catch(o){console.error(o.toString()),n.props.onHighlight([]),n.setState({error:!0})}},n.handleAccidental=function(e){n.setState({accidental:e},function(){return n.updateHighlight()})},n.handleInversion=function(e){n.setState({inversion:e},function(){return n.updateHighlight()})},n.handleLetter=function(e){n.setState({letter:e},function(){return n.updateHighlight()})},n.handleOctave=function(e){n.setState({octave:e},function(){return n.updateHighlight()})},n.handleQuality=function(e){n.setState({quality:w.Quality[e]},function(){return n.updateHighlight()})},n.render=function(){return i.a.createElement(f.a,{attached:"bottom"},i.a.createElement(y.a,{as:"h2",dividing:!0},"Letter"),i.a.createElement(S,{source:L.values(),onClick:n.handleLetter,toString:function(e){return e.toString()}}),i.a.createElement(y.a,{as:"h2",dividing:!0},"Accidental"),i.a.createElement(S,{source:H.values(),onClick:n.handleAccidental,toString:function(e){return"".concat(e.toString()," (").concat(e.getOffset(),")")}}),i.a.createElement(y.a,{as:"h2",dividing:!0},"Octave"),i.a.createElement(S,{source:[1,2,3,4,5,6,7,8],onClick:n.handleOctave,toString:function(e){return e}}),i.a.createElement(y.a,{as:"h2",dividing:!0},"Quality"),i.a.createElement(S,{source:Object.keys(w.Quality).slice(0,8),onClick:n.handleQuality,toString:function(e){return k.toCamelCase(e.replace(/_/g," "))}}),i.a.createElement(y.a,{as:"h2",dividing:!0},"Inversion"),i.a.createElement(S,{source:w.Inversion.values(),onClick:n.handleInversion,toString:function(e){return k.toCamelCase(e.toString())}}),n.state.error&&i.a.createElement(b.a,{error:!0},i.a.createElement(b.a.Header,null,"Invalid input.")))},n.updateHighlight=n.updateHighlight.bind(Object(s.a)(n)),n.handleAccidental=n.handleAccidental.bind(Object(s.a)(n)),n.handleInversion=n.handleInversion.bind(Object(s.a)(n)),n.handleLetter=n.handleLetter.bind(Object(s.a)(n)),n.handleQuality=n.handleQuality.bind(Object(s.a)(n)),n.state={accidental:null,inversion:null,letter:null,octave:null,quality:null,error:!1},n}return Object(g.a)(t,e),t}(a.Component),D=j.theory.Accidental,N=j.theory.Interval,P=j.theory.Key,q=j.theory.Letter,M=j.theory.Pitch,R=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).updateHighlight=function(){var e=n.state,t=e.accidental,a=e.distance,i=e.letter,r=e.octave,c=e.quality;if(O.checkAllNotNull(t,a,i,r,c))try{var l=new M(new P(i,t),r),o=new N(c,a),u=l.step(o).get();n.props.onHighlight([l,u]),n.setState({error:!1})}catch(h){console.error(h.toString()),n.props.onHighlight([]),n.setState({error:!0})}},n.handleAccidental=function(e){n.setState({accidental:e},function(){return n.updateHighlight()})},n.handleDistance=function(e){n.setState({distance:e},function(){return n.updateHighlight()})},n.handleLetter=function(e){n.setState({letter:e},function(){return n.updateHighlight()})},n.handleOctave=function(e){n.setState({octave:e},function(){return n.updateHighlight()})},n.handleQuality=function(e){n.setState({quality:e},function(){return n.updateHighlight()})},n.render=function(){return i.a.createElement(f.a,{attached:"bottom"},i.a.createElement(y.a,{as:"h2",dividing:!0},"Letter"),i.a.createElement(S,{source:q.values(),onClick:n.handleLetter,toString:function(e){return e.toString()}}),i.a.createElement(y.a,{as:"h2",dividing:!0},"Accidental"),i.a.createElement(S,{source:D.values(),onClick:n.handleAccidental,toString:function(e){return"".concat(e.toString()," (").concat(e.getOffset(),")")}}),i.a.createElement(y.a,{as:"h2",dividing:!0},"Octave"),i.a.createElement(S,{source:[1,2,3,4,5,6,7,8],onClick:n.handleOctave,toString:function(e){return e}}),i.a.createElement(y.a,{as:"h2",dividing:!0},"Quality"),i.a.createElement(S,{source:N.Quality.values(),onClick:n.handleQuality,toString:function(e){return e.toString()}}),i.a.createElement(y.a,{as:"h2",dividing:!0},"Distance"),i.a.createElement(S,{source:[2,3,4,5,6,7,8],onClick:n.handleDistance,toString:function(e){return e}}),n.state.error&&i.a.createElement(b.a,{error:!0},i.a.createElement(b.a.Header,null,"Invalid input.")))},n.updateHighlight=n.updateHighlight.bind(Object(s.a)(n)),n.handleAccidental=n.handleAccidental.bind(Object(s.a)(n)),n.handleDistance=n.handleDistance.bind(Object(s.a)(n)),n.handleLetter=n.handleLetter.bind(Object(s.a)(n)),n.handleOctave=n.handleOctave.bind(Object(s.a)(n)),n.handleQuality=n.handleQuality.bind(Object(s.a)(n)),n.state={accidental:null,distance:null,letter:null,octave:null,quality:null,error:!1},n}return Object(g.a)(t,e),t}(a.Component),W=j.theory.Accidental,x=j.theory.Direction,K=j.theory.Key,U=j.theory.Letter,B=j.theory.Pitch,J=j.theory.Scale,T=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).updateHighlight=function(){var e=n.state,t=e.accidental,a=e.count,i=e.direction,r=e.letter,c=e.octave,l=e.quality;if(O.checkAllNotNull(t,a,i,r,c,l))try{var o=new J(new B(new K(r,t),c),l);n.props.onHighlight(o.stream(i).limit(a)),n.setState({error:!1})}catch(u){console.error(u.toString()),n.props.onHighlight([]),n.setState({error:!0})}},n.handleAccidental=function(e){n.setState({accidental:e},function(){return n.updateHighlight()})},n.handleLetter=function(e){n.setState({letter:e},function(){return n.updateHighlight()})},n.handleOctave=function(e){n.setState({octave:e},function(){return n.updateHighlight()})},n.handleQuality=function(e){n.setState({quality:J.Quality[e]},function(){return n.updateHighlight()})},n.handleDirection=function(e){n.setState({direction:e},function(){return n.updateHighlight()})},n.handleCount=function(e){n.setState({count:e},function(){return n.updateHighlight()})},n.render=function(){return i.a.createElement(f.a,{attached:"bottom"},i.a.createElement(y.a,{as:"h2",dividing:!0},"Letter"),i.a.createElement(S,{source:U.values(),onClick:n.handleLetter,toString:function(e){return e.toString()}}),i.a.createElement(y.a,{as:"h2",dividing:!0},"Accidental"),i.a.createElement(S,{source:W.values(),onClick:n.handleAccidental,toString:function(e){return"".concat(e.toString()," (").concat(e.getOffset(),")")}}),i.a.createElement(y.a,{as:"h2",dividing:!0},"Octave"),i.a.createElement(S,{source:[1,2,3,4,5,6,7,8],onClick:n.handleOctave,toString:function(e){return e}}),i.a.createElement(y.a,{as:"h2",dividing:!0},"Quality"),i.a.createElement(S,{source:Object.keys(J.Quality).slice(0,8),onClick:n.handleQuality,toString:function(e){return k.toCamelCase(e.replace(/_/g," "))}}),i.a.createElement(y.a,{as:"h2",dividing:!0},"Direction"),i.a.createElement(S,{source:x.values(),onClick:n.handleDirection,toString:function(e){return k.toCamelCase(e.toString())}}),i.a.createElement(y.a,{as:"h2",dividing:!0},"Count"),i.a.createElement(S,{source:[1,2,3,4,5,6,7,8,9,10,11,12,13],onClick:n.handleCount,toString:function(e){return e}}),n.state.error&&i.a.createElement(b.a,{error:!0},i.a.createElement(b.a.Header,null,"Invalid input.")))},n.updateHighlight=n.updateHighlight.bind(Object(s.a)(n)),n.handleAccidental=n.handleAccidental.bind(Object(s.a)(n)),n.handleCount=n.handleCount.bind(Object(s.a)(n)),n.handleDirection=n.handleDirection.bind(Object(s.a)(n)),n.handleLetter=n.handleLetter.bind(Object(s.a)(n)),n.handleQuality=n.handleQuality.bind(Object(s.a)(n)),n.handleDirection=n.handleDirection.bind(Object(s.a)(n)),n.state={accidental:null,count:null,direction:null,letter:null,octave:null,quality:null,error:!1},n}return Object(g.a)(t,e),t}(a.Component),_=n(172),G=n.n(_),$=n(173),z=n(174),F=n.n(z),V=(n(381),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).componentWillMount=function(){var e=new $.Piano([21,108],5).toMaster();e.load().then(function(){n.setState({piano:e}),F.a.Transport.start()})},n.handleMenu=function(e,t){var a=t.name;n.state.active!==a&&n.setState({active:a,highlight:[]})},n.handleHighlight=function(e){return n.setState({highlight:e})},n.renderContainer=function(){switch(n.state.active){case"Interval":return i.a.createElement(R,{onHighlight:n.handleHighlight});case"Chord":return i.a.createElement(Q,{onHighlight:n.handleHighlight});case"Scale":return i.a.createElement(T,{onHighlight:n.handleHighlight});case"Piano":return i.a.createElement(f.a,{attached:"bottom"},i.a.createElement("code",null,"const scale = new Scale(startPitch, Scale.Quality.CHROMATIC);"));default:return null}},n.render=function(){var e=n.state,t=e.active,a=e.highlight,r=e.piano;return i.a.createElement("div",null,i.a.createElement(v.a,{fixed:"top",inverted:!0},i.a.createElement(m.a,null,i.a.createElement(v.a.Item,{header:!0,name:"etude demo"}))),i.a.createElement(p.a,{verticalAlign:"top"},i.a.createElement(p.a.Row,{centered:!0},i.a.createElement(G.a,{start:"A1",end:"C8",keyPressed:function(e){null!=r&&r.keyDown(e.getProgramNumber())},keyReleased:function(e){null!=r&&r.keyUp(e.getProgramNumber())},highlight:a,showLabel:!0})),i.a.createElement(p.a.Row,null,i.a.createElement(m.a,null,null==r&&i.a.createElement(b.a,{icon:!0,info:!0},i.a.createElement(E.a,{name:"circle notched",loading:!0}),i.a.createElement(b.a.Content,null,i.a.createElement(b.a.Header,null,"Loading piano sounds..."))),i.a.createElement(v.a,{attached:"top",tabular:!0},i.a.createElement(v.a.Item,{header:!0,name:"Piano",active:"Piano"===t,onClick:n.handleMenu}),i.a.createElement(v.a.Item,{name:"Interval",active:"Interval"===t,onClick:n.handleMenu}),i.a.createElement(v.a.Item,{name:"Chord",active:"Chord"===t,onClick:n.handleMenu}),i.a.createElement(v.a.Item,{name:"Scale",active:"Scale"===t,onClick:n.handleMenu})),n.renderContainer()))))},n.handleHighlight=n.handleHighlight.bind(Object(s.a)(n)),n.renderContainer=n.renderContainer.bind(Object(s.a)(n)),n.state={active:"Chord",highlight:[],piano:null},n}return Object(g.a)(t,e),t}(a.Component));c.a.render(i.a.createElement(V,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");l?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):o(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):o(e)})}}()}},[[186,1,2]]]);
//# sourceMappingURL=main.5f3c1cdb.chunk.js.map